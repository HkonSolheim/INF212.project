<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Study Buddy</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="studybuddy.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Bitter:wght@300&display=swap" rel="stylesheet">
</head>
<body>
	<div id="logo">
		<img src="studybuddylogo.png">
	</div>
	<nav>
			<div class="nav1">
				<h2><span onclick="transitionToPage('grupper.html')">Grupper</span></h2>
			</div>
			<div class="nav2">
				<h2>Swipe</h2>
			</div>
			<div class="nav3">
				<h2><span onclick="transitionToPage('minprofil.html')">Min Profil</span></h2>
			</div>
	</nav>
	<div class="people">
		<ul class="peoplelist">
			<li id="picture" class="current">
				<img src="olanordmann.jpeg" alt="Cartoon of Ola.Nordmann">
				<h1 class="text">
					Ola Nordmann
				</h1>
				<p class="textp">
					Studerer: Info 212
				</p>
				<p class="textp2">
					Søker: Studiepartner(e)
				</p>
				<p class="textp3">
					Litt om meg selv:
				</p>
			</li>
			<li id="picture" class="card">
				<img src="olanordmann.jpeg" alt="Cartoon of Ola.Nordmann">
				<h1 class="text">
					Philip Haraldson
				</h1>
				<p class="textp">
					Studerer: Info 212
				</p>
				<p class="textp2">
					Søker: Studiepartner(e)
				</p>
				<p class="textp3">
					Litt om meg selv:
				</p>
			</li>
			<li id="picture" class="card">
				<img src="olanordmann.jpeg" alt="Cartoon of Ola.Nordmann">
				<h1 class="text">
					Benny boy barista
				</h1>
				<p class="textp">
					Studerer: Info 212
				</p>
				<p class="textp2">
					Søker: Studiepartner(e)
				</p>
				<p class="textp3">
					Litt om meg selv:
				</p>
			</li>
			<li id="picture" class="card">
				<img src="olanordmann.jpeg" alt="Cartoon of Ola.Nordmann">
				<h1 class="text">
					Geir Løvestake
				</h1>
				<p class="textp">
					Studerer: Info 212
				</p>
				<p class="textp2">
					Søker: Studiepartner(e)
				</p>
				<p class="textp3">
					Litt om meg selv:
				</p>
			</li>
			<li id="picture" class="card">
				<img src="olanordmann.jpeg" alt="Cartoon of Ola.Nordmann">
				<h1 class="text">
					Harry Hårfagre
				</h1>
				<p class="textp">
					Studerer: Info 212
				</p>
				<p class="textp2">
					Søker: Studiepartner(e)
				</p>
				<p class="textp3">
					Litt om meg selv:
				</p>
			</li>
		</ul>
		<div id="valg">
			<button class="nei">X</button>
			<button class="ja">✓</button>
		</div>
	</div>
	<script>
	window.transitionToPage = function(href) {
	    document.querySelector('body').style.opacity = 0
	    setTimeout(function() {
	        window.location.href = href
	    }, 500)
	}

	document.addEventListener('DOMContentLoaded', function(event) {
	document.querySelector('body').style.opacity = 1
	})
	function animatecard(ev) {
  	var t = ev.target;
		const regex_yes = new RegExp("(^| )ja($| )");
		const	regex_no = new RegExp("(^| )nei($| )");
  	if (regex_no.test(t.className)) {
    	document.getElementsByClassName('current')[0].classList.add('nope');
  	}
  	if (regex_yes.test(t.className)) {
    	document.getElementsByClassName('current')[0].classList.add('yes');
  	}
	}
document.getElementsByClassName("nei")[0].addEventListener('click', animatecard);
document.getElementsByClassName("ja")[0].addEventListener('click', animatecard);

function animationdone(ev) {

  // get the container
  var origin = ev.target.parentNode;
	var removecard = origin.querySelector('.current')
  // remove the appropriate class
  // depending on the animation name
  if (ev.animationName === 'yay') {
    removecard.classList.remove('yes');
  }
  if (ev.animationName === 'nope') {
    removecard.classList.remove('nope');
  }

  // if any of the card events have
  // ended…
  if (ev.animationName === 'nope' ||
      ev.animationName === 'yay') {

  // remove the first card in the element
		origin.appendChild(removecard)
		removecard.classList.remove("current")
		removecard.classList.add("card")


  // if there are no cards left, do nothing
    if (!origin.querySelector('#picture')) {
      // no more cards left -
      // TODO other functionality
    } else {

  // otherwise shift the 'current' class to
  // the next card
      origin.querySelector('#picture').
        classList.add('current');
    }
  }
}
document.body.addEventListener("webkitAnimationEnd", animationdone);
document.body.addEventListener('animationend', animationdone);
	</script>
</body>
</html>
